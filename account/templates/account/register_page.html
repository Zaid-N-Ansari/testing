{% extends "base.html" %}
{% block title %}Register{% endblock title %}
{% block content %}

<div class="row mt-5 flex-row align-items-center justify-content-center">
	<div class="col-md-5">
		<h1 class="display-4 mb-4 user-select-none text-center">Register User</h1>
		<form method="POST">
			{% csrf_token %}

			<div class="form-group mb-4">
				{{ form.first_name.label_tag }}
				{{ form.first_name }}
			</div>

			<div class="form-group mb-4">
				{{ form.last_name.label_tag }}
				{{ form.last_name }}
			</div>

			<div class="form-group mb-4">
				{{ form.email.label_tag }}
				{{ form.email }}
				{% if form.email.errors %}
				<div class="alert alert-danger alert-dismissible fade show ps-2 p-0 d-flex flex-row align-items-center justify-content-between" role="alert">
					<div>
					{% for error in form.email.errors %}
					<p class="mb-0">{{ error }}</p>
					{% endfor %}
					</div>
					<button type="button" class="close float-end bg-transparent border-0 fs-3 text-danger" data-dismiss="alert" aria-label="Close">&times;</button>
				</div>
				{% endif %}
			</div>

			<div class="form-group mb-4">
				{{ form.password1.label_tag }}
				{{ form.password1 }}
				{% if form.password1.errors %}
				<div class="alert alert-danger alert-dismissible fade show ps-2 p-0 d-flex flex-row align-items-center justify-content-between" role="alert">
					<div>
					{% for error in form.password1.errors %}
					<p class="mb-0">{{ error }}</p>
					{% endfor %}
					</div>
					<button type="button" class="close float-end bg-transparent border-0 fs-3 text-danger" data-dismiss="alert" aria-label="Close">&times;</button>
				</div>
				{% endif %}
			</div>

			<div class="form-group mb-4">
				{{ form.password2.label_tag }}
				{{ form.password2 }}
				{% if form.password2.errors %}
				<div class="alert alert-danger alert-dismissible fade show ps-2 p-0 d-flex flex-row align-items-center justify-content-between" role="alert">
					<div>
					{% for error in form.password2.errors %}
					<p class="mb-0">{{ error }}</p>
					{% endfor %}
					</div>
					<button type="button" class="close float-end bg-transparent border-0 fs-3 text-danger" data-dismiss="alert" aria-label="Close">&times;</button>
				</div>
				{% endif %}
			</div>

			<button type="submit" class="btn btn-sm btn-primary float-end">Register</button>

			{% if form.non_field_errors %}
			{% for error in form.non_field_errors %}
				<p class="mb-0">{{ error }}</p>
			{% endfor %}
			<div class="alert alert-danger alert-dismissible fade show p-2" role="alert">
				<button type="button" class="close float-end bg-transparent border-0 fs-3 text-danger" data-dismiss="alert" aria-label="Close">&times;</button>
			</div>
			{% endif %}

			<script>
				$(document).ready(function (e) {
					$('button.close').on('click', function () {
						$(this).parent('div.alert').alert('close');
					});
				});
			</script>
		</form>
	</div>
</div>

{% endblock content %}