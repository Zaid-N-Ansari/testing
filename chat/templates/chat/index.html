{% extends "base.html" %}
{% block title %}Chat{% endblock title %}

{% block content %}
<style>
	textarea{
		outline: none;
		background-color: var(--bs-body-bg);
		resize: none;
	}
	div.h-custom {
		height: 90vh;
	}
	.list-group-item.active {
		background-color: var(--bs-border-color) !important;
	}
	@media (max-width:768px) {
		div.h-custom {
			height: 84vh !important;
		}
		div.h-sm-custom {
			height: max-content !important;
		}
	}
</style>
<div class="container-fluid h-full">
	<div class="row flex-md-row flex-lg-row flex-column justify-content-center">
		<div class="col-12 col-md-4 col-lg-2 pe-md-1 pe-lg-1 pb-2 pb-md-0 pb-lg-0">
			<div class="card h-custom h-sm-custom shadow m-0">
				<h5 class="card-header text-center">
					Your Friends and Groups
				</h5>
				<div class="card-body d-flex flex-row flex-md-column flex-lg-column pt-1 pb-2 px-1 w-100 align-items-start justify-content-start list-group" style="overflow: scroll;">
					{% for friend in friends %}
						<button data-id="{{ friend }}" class="list-group-item list-group-item-action d-flex flex-column flex-md-row flex-lg-row align-items-start justify-content-between border p-2 rounded mt-2 w-100 ms-1 me-1 ms-md-0 me-md-0 ms-lg-0 me-lg-0">
							<img style="width: 3rem;" src="{{ friend.profile_image.url }}" class="rounded-circle" loading="lazy" />
							<p class="lead small m-0">{{ friend }}</p>
						</button>
					{% endfor%}
				</div>
			</div>
		</div>


		<div class="col-12 col-md-8 col-lg-8 ps-md-1 ps-lg-1">
			<div class="card h-custom shadow m-0">
				<h5 class="card-header d-flex align-items-center justify-content-between user-select-none">
					<span>{{ to }}</span>
					<span data-toggle="tooltip" data-placement="left" title="Connecting..." class="material-icons" style="font-size: 1rem; cursor:default;">radio_button_checked</span>
				</h5>
				<div class="card-body">
					
				</div>
				<div class="d-flex align-items-between w-100 m-auto py-2 border-top card-tools" style="background-color: var(--bs-card-cap-bg);">
					<div class="w-75 d-flex align-items-center justify-content-evenly">
						<button class="btn" type="button">
							<span class="material-icons">attach_file</span>
						</button>
						<textarea name="input-msg" id="input-msg" class="w-75 rounded"></textarea>
					</div>
					<div class="d-flex align-items-center justify-content-evenly w-25">
						<button class="btn" type="button">
							<span class="material-icons">add_reaction</span>
						</button>
						<button id="send-msg-btn" class="btn" type="button">
							<span class="material-icons">send</span>
						</button>
					</div>
					<script>// include snippets/chat.js</script>
				</div>
			</div>
		</div>
	</div>
</div>
<script>{% include 'chat/chat.js' %}</script>
{% endblock content %}